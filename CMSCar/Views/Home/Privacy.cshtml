@model CMSCar.Models.ViewModels.IndexVM

@{
    ViewData["Title"] = "Home Page";
}
@using Microsoft.AspNetCore.Builder
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.AspNetCore.Localization
@using Microsoft.Extensions.Options

@inject IViewLocalizer Localizer
@inject IOptions<RequestLocalizationOptions> LocOptions
@{
    string x = System.Globalization.CultureInfo.CurrentCulture.Name;
    var name = "";
    var whatsapp = " ";
    var phone = " ";
    var working = " ";
    var google_url = " ";

}
@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var cultureItems = LocOptions.Value.SupportedUICultures
        .Select(c => new SelectListItem { Value = c.Name, Text = c.DisplayName })
        .ToList();
}
<style>
    .AdvSlider {
        z-index: 19;
        text-align: center;
        padding-top: 301px;
        padding-left: 140px;
        font-size: 18px;
        line-height: 48px;
        font-weight: 600;
        color: #ffffff;
        letter-spacing: -1px;
        font-family: Cairo;
    }

    .testSlider {
        z-index: 22;
        margin-top: 120px;
        text-align: center;
        font-size: 35px;
        line-height: 35px;
        font-weight: 700;
        color: #ffffff;
        letter-spacing: -1px;
        font-family: Cairo;
    }

    .MapSlider {
        z-index: 16;
        text-align: center;
        padding-top: 122px;
        font-size: 50px;
        line-height: 95px;
        font-weight: 700;
        color: #ffffff;
        letter-spacing: -4px;
        font-family: Cairo;
    }

    @@media screen and (max-width: 600px) {
        .divSlider {
            font-size: 15px;
            font-weight: 700;
            line-height: 18px;
        }

        .divSubSlider {
            font-size: 13px;
            font-weight: 700;
            line-height: 16px;
        }

        .AdvSlider {
            z-index: 19;
            text-align: center;
            padding-top: 200px;
            padding-left: 50px;
            padding-right: 50px;
            font-size: 10px;
            line-height: 20px;
            font-weight: 600;
            color: #ffffff;
            letter-spacing: -1px;
            font-family: Cairo;
        }

        .testSlider {
            z-index: 22;
            margin-top: 10px;
            text-align: center;
            font-size: 20px;
            line-height: 35px;
            font-weight: 700;
            color: #ffffff;
            letter-spacing: -1px;
            font-family: Cairo;
        }

        .MapSlider {
            padding-top: 20px;
            z-index: 22;
            text-align: center;
            font-size: 20px;
            line-height: 35px;
            font-weight: 700;
            color: #ffffff;
            letter-spacing: -1px;
            font-family: Cairo;
        }
    }
</style>
<div class="clearfix"></div>
<div class="w-100">
    <div class="slider" style="max-width: 100%;">
        <link href="https://fonts.googleapis.com/css?family=Cairo:700%2C800%2C600%2C400" rel="stylesheet" property="stylesheet" type="text/css" media="all">
        <div id="rev_slider_13_1_wrapper" class="rev_slider_wrapper fullwidthbanner-container" data-source="gallery" style="margin:0px auto;background:transparent;padding:0px;margin-top:0px;margin-bottom:0px;">
            <!-- START REVOLUTION SLIDER 5.4.8.1 fullwidth mode -->
            <div id="rev_slider_13_1" class="rev_slider fullwidthabanner" style="display:none;" data-version="5.4.8.1">
                <ul>
                    <li data-index="rs-176" data-transition="fade" data-slotamount="default" data-hideafterloop="0" data-hideslideonmobile="off" data-easein="default" data-easeout="default" data-masterspeed="300" data-thumb="https://slider.salehcars.com/revslider/admin/assets/images/transparent.png" data-rotate="0" data-saveperformance="off" data-title="Slide" data-param1="" data-param2="" data-param3="" data-param4="" data-param5="" data-param6="" data-param7="" data-param8="" data-param9="" data-param10="" data-description="">
                        <!-- MAIN IMAGE -->
                        <img src="https://i.imgur.com/sw6B8Go.png" data-bgcolor='#f5f5f5' style='background:linear-gradient(180deg,rgba(193,0,0,1)0%,rgba(193,0,0,1)0%,rgba(255,0,0,1)48%,rgba(188,0,0,1)100%,rgba(188,0,0,1)100%)' alt="" data-bgposition="center center" data-bgfit="cover" data-bgrepeat="no-repeat" class="rev-slidebg" data-no-retina>
                        <!-- LAYERS -->
                        <!-- LAYER NR. 80 -->
                        <div class="tp-caption   tp-resizeme"
                             id="slide-176-layer-14"
                             data-x="['left','left','left','left']" data-hoffset="['-227','-227','-227','-219']"
                             data-y="['top','top','top','top']" data-voffset="['163','163','163','174']"
                             data-width="none"
                             data-height="none"
                             data-whitespace="nowrap"
                             data-type="image"
                             data-responsive_offset="on"
                             data-frames='[{"delay":2300,"speed":1000,"frame":"0","from":"opacity:0;","to":"o:0.5;","ease":"Power3.easeInOut"},{"delay":"wait","speed":300,"frame":"999","to":"opacity:0;","ease":"Power3.easeInOut"}]'
                             data-textAlign="['inherit','inherit','inherit','inherit']"
                             data-paddingtop="[0,0,0,0]"
                             data-paddingright="[0,0,0,0]"
                             data-paddingbottom="[0,0,0,0]"
                             data-paddingleft="[0,0,0,0]"
                             style="z-index: 5;">
                            <div class="rs-looped rs-pulse" data-easing="" data-speed="10" data-zoomstart="1" data-zoomend="1.3"><img src="https://slider.salehcars.com/media/830bf-L-clouds.png" alt="" data-ww="['714px','714px','714px','407px']" data-hh="['301px','301px','301px','171px']" data-no-retina> </div>
                        </div>
                        <!-- LAYER NR. 94 -->
                        <div class="tp-caption   tp-resizeme"
                             id="slide-176-layer-5"
                             data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']"
                             data-y="['top','top','top','top']" data-voffset="['54','54','54','116']"
                             data-width="none"
                             data-height="none"
                             data-whitespace="nowrap"
                             data-type="image"
                             data-responsive_offset="on"
                             data-frames='[{"delay":500,"speed":6000,"frame":"0","from":"x:50px;opacity:0;","to":"o:1;","ease":"Circ.easeOut"},{"delay":"wait","speed":300,"frame":"999","to":"opacity:0;","ease":"Power3.easeInOut"}]'
                             data-textAlign="['inherit','inherit','inherit','inherit']"
                             data-paddingtop="[0,0,0,0]"
                             data-paddingright="[0,0,0,0]"
                             data-paddingbottom="[0,0,0,0]"
                             data-paddingleft="[0,0,0,0]"
                             style="z-index: 19;"><img src="https://i.imgur.com/EzIGLwk.png" alt="" data-ww="['500px','500px','500px','300px']" data-hh="['150px','150px','150px','90px']" data-no-retina> </div>
                        <div class="tp-caption   tp-resizeme"
                             id="slide-176-layer-5"
                             data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']"
                             data-y="['top','top','top','top']" data-voffset="['54','54','54','116']"
                             data-width="none"
                             data-height="none"
                             data-whitespace="nowrap"
                             data-type="image"
                             data-responsive_offset="on"
                             data-frames='[{"delay":500,"speed":3000,"frame":"0","from":"x:50px;opacity:0;","to":"o:1;","ease":"Circ.easeOut"},{"delay":"wait","speed":300,"frame":"999","to":"opacity:0;","ease":"Power3.easeInOut"}]'
                             data-textAlign="['inherit','inherit','inherit','inherit']"
                             data-paddingtop="[0,0,0,0]"
                             data-paddingright="[0,0,0,0]"
                             data-paddingbottom="[0,0,0,0]"
                             data-paddingleft="[0,0,0,0]"
                             style="z-index: 19;"><img src="https://i.imgur.com/GBzqAD1.png" alt="" data-ww="['650px','650px','650px','450px']" data-hh="['620px','620px','620px','480px']" data-no-retina> </div>
                    </li>
                </ul>


                <div class="tp-bannertimer tp-bottom" style="visibility: hidden !important;"></div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    @if (x == "ar-EG")
    {
        <script src="~/js/HomeAr.js"></script>

    }
    else
    {
        <script src="~/js/HomeEn.js"></script>
    }
    <script>
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            event: 'eec.productImpressions',
            'ecommerce': {
                'currencyCode': 'SAR',
                'impressions': [{ "name": "GAC GS5 GE 2021", "id": 503, "price": "74500", "brand": "GAC", "category": "GS5", "variant": "null", "list": "Home Page", "position": 1 }, { "name": "GAC GS3 GS 2021", "id": 502, "price": "46000", "brand": "GAC", "category": "GS3", "variant": "null", "list": "Home Page", "position": 2 }, { "name": "GAC GN6 GE 2021", "id": 501, "price": "70100", "brand": "GAC", "category": "GN6", "variant": "null", "list": "Home Page", "position": 3 }, { "name": "GAC GA8 GE 2020", "id": 500, "price": "82200", "brand": "GAC", "category": "GA8", "variant": "null", "list": "Home Page", "position": 4 }, { "name": "GAC GS8 GL-4WD 2021", "id": 499, "price": "93000", "brand": "GAC", "category": "GS8", "variant": "null", "list": "Home Page", "position": 5 }, { "name": "GAC GS3 GE 2021", "id": 498, "price": "55800", "brand": "GAC", "category": "GS3", "variant": "null", "list": "Home Page", "position": 6 }, { "name": "GAC GS5 GL 2021", "id": 497, "price": "80000", "brand": "GAC", "category": "GS5", "variant": "null", "list": "Home Page", "position": 7 }, { "name": "GAC GA4 GE 2021", "id": 496, "price": "47200", "brand": "GAC", "category": "GA4", "variant": "null", "list": "Home Page", "position": 8 }, { "name": "GAC GN8 GP 2020", "id": 495, "price": "116000", "brand": "GAC", "category": "GN8", "variant": "null", "list": "Home Page", "position": 9 }, { "name": "شانجان CS95 Royal دبل 2021", "id": 494, "price": "111900", "brand": "شانجان", "category": "CS95", "variant": "null", "list": "Home Page", "position": 10 }]
            }
        });
    </script>
    <script type="text/javascript">
        function setREVStartSize(e) {
            try {
                e.c = jQuery(e.c); var i = jQuery(window).width(), t = 9999, r = 0, n = 0, l = 0, f = 0, s = 0, h = 0;
                if (e.responsiveLevels && (jQuery.each(e.responsiveLevels, function (e, f) { f > i && (t = r = f, l = e), i > f && f > r && (r = f, n = e) }), t > r && (l = n)), f = e.gridheight[l] || e.gridheight[0] || e.gridheight, s = e.gridwidth[l] || e.gridwidth[0] || e.gridwidth, h = i / s, h = h > 1 ? 1 : h, f = Math.round(h * f), "fullscreen" == e.sliderLayout) { var u = (e.c.width(), jQuery(window).height()); if (void 0 != e.fullScreenOffsetContainer) { var c = e.fullScreenOffsetContainer.split(","); if (c) jQuery.each(c, function (e, i) { u = jQuery(i).length > 0 ? u - jQuery(i).outerHeight(!0) : u }), e.fullScreenOffset.split("%").length > 1 && void 0 != e.fullScreenOffset && e.fullScreenOffset.length > 0 ? u -= jQuery(window).height() * parseInt(e.fullScreenOffset, 0) / 100 : void 0 != e.fullScreenOffset && e.fullScreenOffset.length > 0 && (u -= parseInt(e.fullScreenOffset, 0)) } f = u } else void 0 != e.minHeight && f < e.minHeight && (f = e.minHeight); e.c.closest(".rev_slider_wrapper").css({ height: f })
            } catch (d) { console.log("Failure at Presize of Slider:" + d) }
        };</script>
    <script type="text/javascript">
        function revslider_showDoubleJqueryError(sliderID) {
            var errorMessage = "Revolution Slider Error: You have some jquery.js library include that comes after the revolution files js include.";
            errorMessage += "<br> This includes make eliminates the revolution slider libraries, and make it not work.";
            errorMessage += "<br><br> To fix it you can find the double jquery.js include and remove it.";
            errorMessage = "<span style='font-size:16px;color:#BC0C06;'>" + errorMessage + "</span>";
            jQuery(sliderID).show().html(errorMessage);
        }
    </script>
    <script>
        var htmlDiv = document.getElementById("rs-plugin-settings-inline-css"); var htmlDivCss = "";
        if (htmlDiv) {
            htmlDiv.innerHTML = htmlDiv.innerHTML + htmlDivCss;
        } else {
            var htmlDiv = document.createElement("div");
            htmlDiv.innerHTML = "<style>" + htmlDivCss + "</style>";
            document.getElementsByTagName("head")[0].appendChild(htmlDiv.childNodes[0]);
        }
    </script>
    <script type="text/javascript">
        if (setREVStartSize !== undefined) setREVStartSize(
            { c: '#rev_slider_13_1', responsiveLevels: [1240, 1240, 1240, 480], gridwidth: [1240, 1240, 1240, 480], gridheight: [700, 700, 700, 700], sliderLayout: 'fullwidth' });

        var revapi13,
            tpj;
        (function () {
            if (!/loaded|interactive|complete/.test(document.readyState)) document.addEventListener("DOMContentLoaded", onLoad); else onLoad();

            function onLoad() {
                if (tpj === undefined) { tpj = jQuery; if ("off" == "on") tpj.noConflict(); }
                if (tpj("#rev_slider_13_1").revolution == undefined) {
                    revslider_showDoubleJqueryError("#rev_slider_13_1");
                } else {
                    revapi13 = tpj("#rev_slider_13_1").show().revolution({
                        sliderType: "standard",
                        jsFileLocation: "//slider.salehcars.com/revslider/public/assets/js/",
                        sliderLayout: "fullwidth",
                        dottedOverlay: "none",
                        delay: 9000,
                        navigation: {
                            keyboardNavigation: "off",
                            keyboard_direction: "horizontal",
                            mouseScrollNavigation: "off",
                            mouseScrollReverse: "default",
                            onHoverStop: "off",
                            bullets: {
                                enable: true,
                                hide_onmobile: false,
                                style: "uranus",
                                hide_onleave: false,
                                direction: "horizontal",
                                h_align: "center",
                                v_align: "bottom",
                                h_offset: 0,
                                v_offset: 20,
                                space: 15,
                                tmp: '<span class="tp-bullet-inner"></span>'
                            }
                        },
                        responsiveLevels: [1240, 1240, 1240, 480],
                        visibilityLevels: [1240, 1240, 1240, 480],
                        gridwidth: [1240, 1240, 1240, 480],
                        gridheight: [700, 700, 700, 700],
                        lazyType: "none",
                        shadow: 0,
                        spinner: "spinner0",
                        stopLoop: "off",
                        stopAfterLoops: -1,
                        stopAtSlide: -1,
                        shuffle: "off",
                        autoHeight: "off",
                        disableProgressBar: "on",
                        hideThumbsOnMobile: "off",
                        hideSliderAtLimit: 0,
                        hideCaptionAtLimit: 0,
                        hideAllCaptionAtLilmit: 0,
                        debugMode: false,
                        fallbacks: {
                            simplifyAll: "off",
                            nextSlideOnWindowFocus: "off",
                            disableFocusListener: false,
                        }
                    });
                }; /* END OF revapi call */
            }; /* END OF ON LOAD FUNCTION */
        }()); /* END OF WRAPPING FUNCTION */
    </script>
    <script>
        var htmlDivCss = unescape("%23rev_slider_13_1%20.uranus%20.tp-bullet%7B%0A%20%20border-radius%3A%2050%25%3B%0A%20%20box-shadow%3A%200%200%200%202px%20rgba%28255%2C%20255%2C%20255%2C%200%29%3B%0A%20%20-webkit-transition%3A%20box-shadow%200.3s%20ease%3B%0A%20%20transition%3A%20box-shadow%200.3s%20ease%3B%0A%20%20background%3Atransparent%3B%0A%20%20width%3A15px%3B%0A%20%20height%3A15px%3B%0A%7D%0A%23rev_slider_13_1%20.uranus%20.tp-bullet.selected%2C%0A%23rev_slider_13_1%20.uranus%20.tp-bullet%3Ahover%20%7B%0A%20%20box-shadow%3A%200%200%200%202px%20rgba%28255%2C%20255%2C%20255%2C1%29%3B%0A%20%20border%3Anone%3B%0A%20%20border-radius%3A%2050%25%3B%0A%20%20background%3Atransparent%3B%0A%7D%0A%0A%23rev_slider_13_1%20.uranus%20.tp-bullet-inner%20%7B%0A%20%20-webkit-transition%3A%20background-color%200.3s%20ease%2C%20-webkit-transform%200.3s%20ease%3B%0A%20%20transition%3A%20background-color%200.3s%20ease%2C%20transform%200.3s%20ease%3B%0A%20%20top%3A%200%3B%0A%20%20left%3A%200%3B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%20100%25%3B%0A%20%20outline%3A%20none%3B%0A%20%20border-radius%3A%2050%25%3B%0A%20%20background-color%3A%20rgb%28255%2C%20255%2C%20255%29%3B%0A%20%20background-color%3A%20rgba%28255%2C%20255%2C%20255%2C%200.3%29%3B%0A%20%20text-indent%3A%20-999em%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20position%3A%20absolute%3B%0A%7D%0A%0A%23rev_slider_13_1%20.uranus%20.tp-bullet.selected%20.tp-bullet-inner%2C%0A%23rev_slider_13_1%20.uranus%20.tp-bullet%3Ahover%20.tp-bullet-inner%7B%0A%20transform%3A%20scale%280.4%29%3B%0A%20-webkit-transform%3A%20scale%280.4%29%3B%0A%20background-color%3Argb%28255%2C%20255%2C%20255%29%3B%0A%7D%0A");
        var htmlDiv = document.getElementById('rs-plugin-settings-inline-css');
        if (htmlDiv) {
            htmlDiv.innerHTML = htmlDiv.innerHTML + htmlDivCss;
        }
        else {
            var htmlDiv = document.createElement('div');
            htmlDiv.innerHTML = '<style>' + htmlDivCss + '</style>';
            document.getElementsByTagName('head')[0].appendChild(htmlDiv.childNodes[0]);
        }
    </script>
    <script>
        var htmlDiv = document.getElementById("rs-plugin-settings-inline-css"); var htmlDivCss = "";
        if (htmlDiv) {
            htmlDiv.innerHTML = htmlDiv.innerHTML + htmlDivCss;
        } else {
            var htmlDiv = document.createElement("div");
            htmlDiv.innerHTML = "<style>" + htmlDivCss + "</style>";
            document.getElementsByTagName("head")[0].appendChild(htmlDiv.childNodes[0]);
        }
    </script>
    <script>
        $(function () {
            $(".selectpicker").change(function () {
                var id = $(this).children("option:selected").val();
                var _path = "/Home/GetSubTypeCar";
                var _path1 = "/Home/GetModelCar";
                $.ajax({
                    url: _path,
                    data: { id: id },
                    type: "Get",
                    success: function (data) {
                        var myOpts = document.getElementById('inputState_model').options;

                        $('#inputState_model')
                            .find('option')
                            .remove()
                            .end();
                        $.each(data, function (i, v) {
                            $('#inputState_model').append(`<option value="${v.id}"> ${v.nameAr}  </option>`);
                        });
                    }
                });
                $.ajax({
                    url: _path1,
                    data: { id: id },
                    type: "Get",
                    success: function (data) {
                        var myOpts = document.getElementById('inputStateModel').options;

                        $('#inputStateModel')
                            .find('option')
                            .remove()
                            .end();
                        $.each(data, function (i, v) {
                            $('#inputStateModel').append(`<option value="${v.id}"> ${v.nameAr}  </option>`);
                        });
                    }
                });
            });
        });

    </script>
    <script src="https://maps.google.com/maps/api/js?sensor=false&language=ar"></script>
    <script>
        $(document).ready(function () {


            $("#freeCall").on('click', function (e) {
                // $("#web_stdy").click();
                e.preventDefault();
                console.log('free call clicked');
                document.getElementById("web_stdy").click();

            });

            /*     $('#branchMap iframe').prettyMaps({

                    address: 'Melbourne, Australia',

                    image: 'map-icon.png',

                    hue: '#FF0000',

                    saturation: -20

                });
         */




            // Maps
            //$(function() {
            /*    $('button').each(function(i, btn) {
                   $(btn).click(function() {
                       var el = $(this)[0];
                       var urlbeg="https://www.google.com/maps/embed/v1/view?center=";
                       var urlend="&zoom=18&maptype=roadmap";
                       var lat=el.dataset.lat;
                       var lng=el.dataset.long;
                       $("#branchMap iframe").attr("src",urlbeg+lat+","+lng+urlend);
                   });
               }); */
            // });

            $(".block li.actv").find('span.hide-txt').hide();
            $(".block li").on("click", function () {

                var branchId = $(this).data('branchid');
                /*   console.log(branchId);
                  $("#branchMap").html(branchId); */




                var liss = $(this);
                $(".block li").removeClass('actv');
                $(".block li").find('span.hide-txt').show();
                liss.find('span.hide-txt').hide();
                liss.addClass('actv');
                // console.log(clrId);

                // var brand_id = ;
                $.ajax({
                    url: "/Home/Branche",
                    method: 'POST',
                    data: { branchId: branchId },
                    dataType: 'JSON',
                    beforeSend: function () {
                        // $(liss).addClass("selected").siblings().removeClass("selected");
                        $("#branchDetails #loader").show();
                    },
                    success: function (data) {

                        console.log(data);

                        var name = data.nameAr;
                        var whatsapp = data.whatsappNumber;
                        var phone = data.phoneNumber;
                        var working = data.workingHoursAr;
                        var google_url = data.mapLink


                        $("#branchName").text(name);
                        $("#workingHours p").text(working);
                        $("#branchAddress a span").text(name);
                        $("#branchAddress a").attr('href', google_url);

                        $("#branchMap iframe").attr('src', google_url);
                        $("#branchPhone a").text(phone).attr('href', 'tel:' + phone);
                        $("#branchWhats a").text(whatsapp).attr('href', 'https://wa.me/' + whatsapp);



                        $("#loader").hide();

                    }
                });











            });



            /// Accordion Branches
            $('.toggle').on('click', function (e) {
                e.preventDefault();

                var $this = $(this);

                if ($this.next().hasClass('show')) {
                    $this.next().removeClass('show');
                    $this.next().slideUp(350);
                    $this.children('i').removeClass('fa-minus').addClass('fa-plus');
                } else if ($this.next().hasClass('showz')) {
                    $this.children('i').removeClass('fa-minus').addClass('fa-plus');
                    $this.next().removeClass('showz').slideUp('slow');
                    //$this.next().slideUp(350);
                    // $this.next().toggleClass('show');
                    //$this.next().slideUp(350);



                } else {
                    $this.parent().parent().find('li .inner').removeClass('show');
                    $this.parent().parent().find('li .inner').slideUp(350);
                    $this.next().toggleClass('show');
                    $this.next().slideToggle(350);
                    $this.children('i').removeClass('fa-plus').addClass('fa-minus');
                }
            });




            var $root = $('html, body');

            $('a#toBranches').click(function () {
                $root.animate({
                    scrollTop: $($.attr(this, 'href')).offset().top
                }, 300);

                return false;
            });




        }); // Ready</script>

}
